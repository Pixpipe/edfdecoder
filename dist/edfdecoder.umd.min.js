// Build date: 2022-0731T16:23:34

var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,h,f){a!=Array.prototype&&a!=Object.prototype&&(a[h]=f.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(h){return $jscomp.SYMBOL_PREFIX+(h||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var h=0;return $jscomp.iteratorPrototype(function(){return h<a.length?{done:!1,value:a[h++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,h){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var f=0,l={next:function(){if(f<a.length){var r=f++;return{value:h(r,a[r]),done:!1}}l.next=function(){return{done:!0,value:void 0}};return l.next()}};l[Symbol.iterator]=function(){return l};return l};
$jscomp.polyfill=function(a,h,f,l){if(h){f=$jscomp.global;a=a.split(".");for(l=0;l<a.length-1;l++){var r=a[l];r in f||(f[r]={});f=f[r]}a=a[a.length-1];l=f[a];h=h(l);h!=l&&null!=h&&$jscomp.defineProperty(f,a,{configurable:!0,writable:!0,value:h})}};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
$jscomp.polyfill("Array.prototype.fill",function(a){return a?a:function(a,f,l){var h=this.length||0;0>f&&(f=Math.max(0,h+f));if(null==l||l>h)l=h;l=Number(l);0>l&&(l=Math.max(0,h+l));for(f=Number(f||0);f<l;f++)this[f]=a;return this}},"es6","es3");
(function(a,h){"object"===typeof exports&&"undefined"!==typeof module?h(exports):"function"===typeof define&&define.amd?define(["exports"],h):h(a.edfdecoder={})})(this,function(a){var h="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},f=function(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a["default"]:a}(function(a,b){return b={exports:{}},a(b,b.exports),b.exports}(function(a,b){(function(d,a){a(b)})(h,function(b){var a=
function(b,c){return c={exports:{}},b(c,c.exports),c.exports}(function(b){function c(c){this.value=c}function e(c,b,e){var p=[],a=[],d=!0;return function C(c){function m(){if("object"===typeof k.node&&null!==k.node){k.keys&&k.node_===k.node||(k.keys=g(k.node));k.isLeaf=0==k.keys.length;for(var b=0;b<a.length;b++)if(a[b].node_===c){k.circular=a[b];break}}else k.isLeaf=!0,k.keys=null;k.notLeaf=!k.isLeaf;k.notRoot=!k.isRoot}var t,x,y,z,h=!0,k={node:e?q(c):c,node_:c,path:[].concat(p),parent:a[a.length-
1],parents:a,key:p.slice(-1)[0],isRoot:0===p.length,level:p.length,circular:null,update:function(c,b){k.isRoot||(k.parent.node[k.key]=c);k.node=c;b&&(h=!1)},"delete":function(c){delete k.parent.node[k.key];c&&(h=!1)},remove:function(c){f(k.parent.node)?k.parent.node.splice(k.key,1):delete k.parent.node[k.key];c&&(h=!1)},keys:null,before:function(c){t=c},after:function(c){x=c},pre:function(c){y=c},post:function(c){z=c},stop:function(){d=!1},block:function(){h=!1}};if(!d)return k;m();var l=b.call(k,
k.node);void 0!==l&&k.update&&k.update(l);t&&t.call(k,k.node);if(!h)return k;"object"!=typeof k.node||null===k.node||k.circular||(a.push(k),m(),n(k.keys,function(c,b){p.push(c);y&&y.call(k,k.node[c],c);var a=C(k.node[c]);e&&v.call(k.node,c)&&(k.node[c]=a.node);a.isLast=b==k.keys.length-1;a.isFirst=0==b;z&&z.call(k,a);p.pop()}),a.pop());x&&x.call(k,k.node);return k}(c).node}function q(c){if("object"===typeof c&&null!==c){if(f(c))var b=[];else if("[object Date]"===a(c))b=new Date(c.getTime?c.getTime():
c);else if("[object RegExp]"===a(c))b=new RegExp(c);else if("[object Error]"===a(c))b={message:c.message};else if("[object Boolean]"===a(c))b=new Boolean(c);else if("[object Number]"===a(c))b=new Number(c);else if("[object String]"===a(c))b=new String(c);else if(Object.create&&Object.getPrototypeOf)b=Object.create(Object.getPrototypeOf(c));else if(c.constructor===Object)b={};else{var e=function(){};e.prototype=c.constructor&&c.constructor.prototype||c.__proto__||{};b=new e}n(g(c),function(e){b[e]=
c[e]});return b}return c}function a(c){return Object.prototype.toString.call(c)}var d=b.exports=function(b){return new c(b)};c.prototype.get=function(c){for(var b=this.value,e=0;e<c.length;e++){var a=c[e];if(!b||!v.call(b,a)){b=void 0;break}b=b[a]}return b};c.prototype.has=function(c){for(var b=this.value,e=0;e<c.length;e++){var a=c[e];if(!b||!v.call(b,a))return!1;b=b[a]}return!0};c.prototype.set=function(c,b){for(var e=this.value,a=0;a<c.length-1;a++){var q=c[a];v.call(e,q)||(e[q]={});e=e[q]}return e[c[a]]=
b};c.prototype.map=function(c){return e(this.value,c,!0)};c.prototype.forEach=function(c){return this.value=e(this.value,c,!1)};c.prototype.reduce=function(c,b){var e=1===arguments.length,a=e?this.value:b;this.forEach(function(b){this.isRoot&&e||(a=c.call(this,a,b))});return a};c.prototype.paths=function(){var c=[];this.forEach(function(b){c.push(this.path)});return c};c.prototype.nodes=function(){var c=[];this.forEach(function(b){c.push(this.node)});return c};c.prototype.clone=function(){var c=[],
b=[];return function B(e){for(var a=0;a<c.length;a++)if(c[a]===e)return b[a];if("object"===typeof e&&null!==e){var d=q(e);c.push(e);b.push(d);n(g(e),function(c){d[c]=B(e[c])});c.pop();b.pop();return d}return e}(this.value)};var g=Object.keys||function(c){var b=[],e;for(e in c)b.push(e);return b},f=Array.isArray||function(c){return"[object Array]"===Object.prototype.toString.call(c)},n=function(c,b){if(c.forEach)return c.forEach(b);for(var e=0;e<c.length;e++)b(c[e],e,c)};n(g(c.prototype),function(b){d[b]=
function(e){var a=[].slice.call(arguments,1),q=new c(e);return q[b].apply(q,a)}});var v=Object.hasOwnProperty||function(c,b){return b in c}}),d=function(){function b(c,b){for(var e=0;e<b.length;e++){var a=b[e];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(c,a.key,a)}}return function(c,e,a){e&&b(c.prototype,e);a&&b(c,a);return c}}(),f=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");}d(b,null,
[{key:"isPlatformLittleEndian",value:function(){var c=new Uint32Array([305419896]);return 18!=(new Uint8Array(c.buffer,c.byteOffset,c.byteLength))[0]}},{key:"arrayBufferToUnicode",value:function(c){c=new Uint8Array(c);for(var b=[],a=0,d=0;a<c.length;){var m=c[a++];if(128>m){if(32>m&&10!=m&&13!=m&&9!=m||127==m)return console.warn("Invalid string: non-printable characters"),null;b[d++]=String.fromCharCode(m)}else if(191<m&&224>m){var g=c[a++];b[d++]=String.fromCharCode((m&31)<<6|g&63)}else if(239<m&&
365>m){g=c[a++];var f=c[a++],v=c[a++];m=((m&7)<<18|(g&63)<<12|(f&63)<<6|v&63)-65536;b[d++]=String.fromCharCode(55296+(m>>10));b[d++]=String.fromCharCode(56320+(m&1023))}else{g=c[a++];f=c[a++];m=(m&15)<<12|(g&63)<<6|f&63;if(65533===m)return console.warn("Invalid string: a REPLACEMENT CHARACTER was spotted"),null;b[d++]=String.fromCharCode(m)}}return b.join("")}},{key:"unicodeToArrayBuffer",value:function(c){for(var b=[],a=0,d=0;d<c.length;d++){var m=c.charCodeAt(d);128>m?b[a++]=m:(2048>m?b[a++]=m>>
6|192:(55296==(m&64512)&&d+1<c.length&&56320==(c.charCodeAt(d+1)&64512)?(m=65536+((m&1023)<<10)+(c.charCodeAt(++d)&1023),b[a++]=m>>18|240,b[a++]=m>>12&63|128):b[a++]=m>>12|224,b[a++]=m>>6&63|128),b[a++]=m&63|128)}return(new Uint8Array(b)).buffer}},{key:"arrayBufferToString8",value:function(c){return String.fromCharCode.apply(null,new Uint8Array(c))}},{key:"string8ToArrayBuffer",value:function(c){for(var b=new ArrayBuffer(c.length),a=new Uint8Array(b),d=0;d<c.length;d++)a[d]=c.charCodeAt(d);return b}},
{key:"setString8InBuffer",value:function(c,b){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(0>a)console.warn("The byte offset cannot be negative.");else if(b&&b instanceof ArrayBuffer)if(c.length+a>b.byteLength)console.warn("The string is too long to be writen in this buffer.");else for(var e=new Uint8Array(b),d=0;d<c.length;d++)e[d+a]=c.charCodeAt(d);else console.warn("The buffer must be a valid ArrayBuffer.")}},{key:"getString8FromBuffer",value:function(c,b){var a=2<arguments.length&&
void 0!==arguments[2]?arguments[2]:0;return 0>a?(console.warn("The byte offset cannot be negative."),null):c&&c instanceof ArrayBuffer?b+a>c.byteLength?(console.warn("The string is too long to be writen in this buffer."),null):String.fromCharCode.apply(null,new Uint8Array(c,a,b)):(console.warn("The buffer must be a valid ArrayBuffer."),null)}},{key:"objectToArrayBuffer",value:function(c){var a=null;c=b.makeSerializeFriendly(c);try{var d=JSON.stringify(c);a=b.unicodeToArrayBuffer(d)}catch(t){console.warn(t)}return a}},
{key:"ArrayBufferToObject",value:function(c){var a=null;try{var d=b.arrayBufferToUnicode(c);a=JSON.parse(d)}catch(t){console.warn(t)}return a}},{key:"isTypedArray",value:function(c){return c instanceof Int8Array||c instanceof Uint8Array||c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array}},{key:"mergeBuffers",value:function(c){for(var b=0,a=0;a<c.length;a++)b+=c[a].byteLength;
b=new Uint8Array(b);var d=0;for(a=0;a<c.length;a++)b.set(new Uint8Array(c[a]),d),d+=c[a].byteLength;return b.buffer}},{key:"getGlobalObject",value:function(){var c=null;try{c=window}catch(e){try{c=GLOBAL}catch(q){return console.warn("You are not in a Javascript environment?? Weird."),null}}return c}},{key:"extractTypedArray",value:function(c,b,a,d){if(!c)return console.warn("Input Buffer is null."),null;if(!(c instanceof ArrayBuffer))return console.warn("Buffer must be of type ArrayBuffer"),null;
if(0>=d)return console.warn("The number of elements to fetch must be greater than 0"),null;if(0>b)return console.warn("The byte offset must be possitive or 0"),null;if(b>=c.byteLength)return console.warn("The offset cannot be larger than the size of the buffer."),null;if(a instanceof Function&&!("BYTES_PER_ELEMENT"in a))return console.warn("ArrayType must be a typed array constructor function."),null;if(a.BYTES_PER_ELEMENT*d+b>c.byteLength)console.warn("The requested number of elements is too large for this buffer");
else return c=c.slice(b,b+d*a.BYTES_PER_ELEMENT),new a(c)}},{key:"getTypedArrayInfo",value:function(c){var b=null,a=!1;c instanceof Int8Array?(b="int",a=!1):c instanceof Uint8Array?(b="int",a=!0):c instanceof Uint8ClampedArray?(b="int",a=!0):c instanceof Int16Array?(b="int",a=!1):c instanceof Uint16Array?(b="int",a=!0):c instanceof Int32Array?(b="int",a=!1):c instanceof Uint32Array?(b="int",a=!0):c instanceof Float32Array?(b="float",a=!1):c instanceof Float64Array&&(b="float",a=!1);return{type:b,
signed:a,bytesPerElements:c.BYTES_PER_ELEMENT,byteLength:c.byteLength,length:c.length}}},{key:"howManyTypedArrayAttributes",value:function(c){var d=0;a(c).forEach(function(c){d+=b.isTypedArray(c)});return d}},{key:"hasCircularReference",value:function(c){var b=!1;a(c).forEach(function(c){this.circular&&(b=!0)});return b}},{key:"removeCircularReference",value:function(b){var c=!1;b=a(b).map(function(b){this.circular&&(this.remove(),c=!0)});return c?b:null}},{key:"replaceTypedArrayAttributesByArrays",
value:function(c){var d=!1;c=a(c).map(function(c){if(b.isTypedArray(c)){for(var a=Object.keys(c).length,e=Array(a),g=0;g<a;g++)e[g]=c[g];this.update(e);d=!0}});return d?c:null}},{key:"makeSerializeFriendly",value:function(c){var a=b.removeCircularReference(c);a&&(c=a);(a=b.replaceTypedArrayAttributesByArrays(c))&&(c=a);return c}},{key:"isValidString",value:function(b){var c=b.length;c=1<arguments.length&&void 0!==arguments[1]&&arguments[1]?c:Math.min(1E3,c);for(var a=0,d=0;d<c;d++){var g=b.charCodeAt(Math.floor(Math.random()*
c));(65533===g||32>g&&10!=g&&13!=g&&9!=g||127==g)&&a++}return!(0<a)}}]);return b}();b.CodecUtils=f;Object.defineProperty(b,"__esModule",{value:!0})})})),l=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");},r=function(){function a(b,a){for(var d=0;d<a.length;d++){var f=a[d];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,f.key,f)}}return function(b,d,g){d&&a(b.prototype,d);g&&a(b,g);return b}}(),w=function(){function a(b,
d,g){l(this,a);this._header=b;this._physicalSignals=g;this._rawSignals=d}r(a,[{key:"getRecordDuration",value:function(){return this._header.durationDataRecordsSec}},{key:"getRecordingID",value:function(){return this._header.localRecordingId}},{key:"getNumberOfRecords",value:function(){return this._header.nbDataRecords}},{key:"getNumberOfSignals",value:function(){return this._header.nbSignals}},{key:"getPatientID",value:function(){return this._header.patientId}},{key:"getRecordingStartDate",value:function(){return this._header.recordingDate}},
{key:"getReservedField",value:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:-1;return-1===b?this._header.reserved:0<=b&&b<this._header.signalInfo.length?this._header.signalInfo[b].reserved:null}},{key:"getSignalDigitalMax",value:function(b){return 0>b||b>=this._header.signalInfo.length?(console.warn("Signal index is out of range"),null):this._header.signalInfo[b].digitalMaximum}},{key:"getSignalDigitalMin",value:function(b){return 0>b||b>=this._header.signalInfo.length?(console.warn("Signal index is out of range"),
null):this._header.signalInfo[b].digitalMinimum}},{key:"getSignalPhysicalMin",value:function(b){return 0>b||b>=this._header.signalInfo.length?(console.warn("Signal index is out of range"),null):this._header.signalInfo[b].physicalMinimum}},{key:"getSignalPhysicalMax",value:function(b){return 0>b||b>=this._header.signalInfo.length?(console.warn("Signal index is out of range"),null):this._header.signalInfo[b].physicalMaximum}},{key:"getSignalLabel",value:function(b){return 0>b||b>=this._header.signalInfo.length?
(console.warn("Signal index is out of range"),null):this._header.signalInfo[b].label}},{key:"getSignalNumberOfSamplesPerRecord",value:function(b){return 0>b||b>=this._header.signalInfo.length?(console.warn("Signal index is out of range"),null):this._header.signalInfo[b].nbOfSamples}},{key:"getSignalPhysicalUnit",value:function(b){return 0>b||b>=this._header.signalInfo.length?(console.warn("Signal index is out of range"),null):this._header.signalInfo[b].physicalDimension}},{key:"getSignalPrefiltering",
value:function(b){return 0>b||b>=this._header.signalInfo.length?(console.warn("Signal index is out of range"),null):this._header.signalInfo[b].prefiltering}},{key:"getSignalTransducerType",value:function(b){return 0>b||b>=this._header.signalInfo.length?(console.warn("Signal index is out of range"),null):this._header.signalInfo[b].transducerType}},{key:"getSignalSamplingFrequency",value:function(b){return 0>b||b>=this._header.signalInfo.length?(console.warn("Signal index is out of range"),null):this._header.signalInfo[b].nbOfSamples/
this._header.durationDataRecordsSec}},{key:"getPhysicalSignal",value:function(b,a){return 0>b||b>=this._header.signalInfo.length?(console.warn("Signal index is out of range"),null):0>a&&a>=this._physicalSignals[b].length?(console.warn("Record index is out of range"),null):this._physicalSignals[b][a]}},{key:"getRawSignal",value:function(b,a){return 0>b||b>=this._header.signalInfo.length?(console.warn("Signal index is out of range"),null):0>a&&a>=this._rawSignals[b].length?(console.warn("Record index is out of range"),
null):this._rawSignals[b][a]}},{key:"getPhysicalSignalConcatRecords",value:function(b){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1,g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-1;if(0>b||b>=this._header.signalInfo.length)return console.warn("Signal index is out of range"),null;if(0>a&&a>=this._physicalSignals[b].length)return console.warn("The index recordStart is out of range"),null;-1===a&&(a=0);-1===g?g=this._physicalSignals[b].length-a:a+g>this._physicalSignals[b].length&&
(console.warn("The number of requested records is too large. Forcing only to available records."),g=this._physicalSignals[b].length-a);var f=a+g-1;if(0>f&&f>=this._physicalSignals[b].length)return console.warn("Too many records to concatenate, this goes out of range."),null;var h=0;for(f=a;f<a+g;f++)h+=this._physicalSignals[b][f].length;h=new Float32Array(h);var l=0;for(f=a;f<a+g;f++)h.set(this._physicalSignals[b][f],l),l+=this._physicalSignals[b][f].length;return h}}]);return a}(),D=function(){function a(){l(this,
a);this._output=this._inputBuffer=null}r(a,[{key:"setInput",value:function(b){this._output=null;this._inputBuffer=b}},{key:"decode",value:function(){try{var b=this._decodeHeader();this._decodeData(b.offset,b.header)}catch(d){console.warn(d)}}},{key:"_decodeHeader",value:function(){function b(b){for(var c=[],d=0;d<a.nbSignals;d++)c.push(f.CodecUtils.getString8FromBuffer(n._inputBuffer,b,g).trim()),g+=b;return c}if(this._inputBuffer){var a={},g=0;a.dataFormat=f.CodecUtils.getString8FromBuffer(this._inputBuffer,
8,g).trim();g+=8;a.patientId=f.CodecUtils.getString8FromBuffer(this._inputBuffer,80,g).trim();g+=80;a.localRecordingId=f.CodecUtils.getString8FromBuffer(this._inputBuffer,80,g).trim();g+=80;var h=f.CodecUtils.getString8FromBuffer(this._inputBuffer,8,g).trim();g+=8;var l=f.CodecUtils.getString8FromBuffer(this._inputBuffer,8,g).trim();g+=8;h=h.split(".");l=l.split(".");a.recordingDate=new Date(h[2],h[1],h[0],l[0],l[1],l[2],0);a.nbBytesHeaderRecord=parseInt(f.CodecUtils.getString8FromBuffer(this._inputBuffer,
8,g).trim());g+=8;a.reserved=f.CodecUtils.getString8FromBuffer(this._inputBuffer,44,g);g+=44;a.nbDataRecords=parseInt(f.CodecUtils.getString8FromBuffer(this._inputBuffer,8,g).trim());g+=8;a.durationDataRecordsSec=parseFloat(f.CodecUtils.getString8FromBuffer(this._inputBuffer,8,g).trim());g+=8;a.nbSignals=parseInt(f.CodecUtils.getString8FromBuffer(this._inputBuffer,4,g).trim());g+=4;var n=this;l=b(16);h=b(80);var c=b(8),e=b(8),q=b(8),t=b(8),m=b(8),r=b(80),u=b(8),w=b(32),A=[];a.signalInfo=A;for(var p=
0;p<a.nbSignals;p++)A.push({label:l[p],transducerType:h[p],physicalDimension:c[p],physicalMinimum:parseFloat(e[p]),physicalMaximum:parseFloat(q[p]),digitalMinimum:parseInt(t[p]),digitalMaximum:parseInt(m[p]),prefiltering:r[p],nbOfSamples:parseInt(u[p]),reserved:w[p]});return{offset:g,header:a}}console.warn("A input buffer must be specified.")}},{key:"_decodeData",value:function(b,a){if(this._inputBuffer)if(a){for(var d=Int16Array,h=Array(a.nbSignals),l=Array(a.nbSignals),n=0;n<a.nbSignals;n++)h[n]=
Array(a.nbDataRecords),l[n]=Array(a.nbDataRecords);for(var c=0;c<a.nbDataRecords;c++)for(n=0;n<a.nbSignals;n++){var e=a.signalInfo[n].nbOfSamples,q=f.CodecUtils.extractTypedArray(this._inputBuffer,b,d,e);b+=e*d.BYTES_PER_ELEMENT;h[n][c]=q;for(var t=(new Float32Array(q.length)).fill(0),m=a.signalInfo[n].digitalMaximum-a.signalInfo[n].digitalMinimum,r=a.signalInfo[n].physicalMaximum-a.signalInfo[n].physicalMinimum,u=0;u<e;u++)t[u]=(q[u]-a.signalInfo[n].digitalMinimum)/m*r+a.signalInfo[n].physicalMinimum;
l[n][c]=t}this._output=new w(a,h,l)}else console.warn("Invalid header");else console.warn("A input buffer must be specified.")}},{key:"getOutput",value:function(){return this._output}}]);return a}();a.EdfDecoder=D;a.Edf=w;Object.defineProperty(a,"__esModule",{value:!0})});
