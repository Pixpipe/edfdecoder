// Build date: 2017-1127T15:47:49

var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(c,e,g){if(g.get||g.set)throw new TypeError("ES3 does not support getters and setters.");c!=Array.prototype&&c!=Object.prototype&&(c[e]=g.value)};$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(c){return $jscomp.SYMBOL_PREFIX+(c||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.iterator;c||(c=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[c]&&$jscomp.defineProperty(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(c){var e=0;return $jscomp.iteratorPrototype(function(){return e<c.length?{done:!1,value:c[e++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(c){$jscomp.initSymbolIterator();c={next:c};c[$jscomp.global.Symbol.iterator]=function(){return this};return c};$jscomp.array=$jscomp.array||{};$jscomp.iteratorFromArray=function(c,e){$jscomp.initSymbolIterator();c instanceof String&&(c+="");var g=0,b={next:function(){if(g<c.length){var p=g++;return{value:e(p,c[p]),done:!1}}b.next=function(){return{done:!0,value:void 0}};return b.next()}};b[Symbol.iterator]=function(){return b};return b};
$jscomp.polyfill=function(c,e,g,b){if(e){g=$jscomp.global;c=c.split(".");for(b=0;b<c.length-1;b++){var p=c[b];p in g||(g[p]={});g=g[p]}c=c[c.length-1];b=g[c];e=e(b);e!=b&&null!=e&&$jscomp.defineProperty(g,c,{configurable:!0,writable:!0,value:e})}};$jscomp.polyfill("Array.prototype.keys",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(c){return c})}},"es6-impl","es3");
$jscomp.makeIterator=function(c){$jscomp.initSymbolIterator();var e=c[Symbol.iterator];return e?e.call(c):$jscomp.arrayIterator(c)};$jscomp.EXPOSE_ASYNC_EXECUTOR=!0;$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(c){function e(){this.batch_=null}if(c&&!$jscomp.FORCE_POLYFILL_PROMISE)return c;e.prototype.asyncExecute=function(b){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(b);return this};e.prototype.asyncExecuteBatch_=function(){var b=this;this.asyncExecuteFunction(function(){b.executeBatch_()})};var g=$jscomp.global.setTimeout;e.prototype.asyncExecuteFunction=function(b){g(b,0)};e.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var b=
this.batch_;this.batch_=[];for(var c=0;c<b.length;++c){var e=b[c];delete b[c];try{e()}catch(k){this.asyncThrow_(k)}}}this.batch_=null};e.prototype.asyncThrow_=function(b){this.asyncExecuteFunction(function(){throw b;})};var b=function(b){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var c=this.createResolveAndReject_();try{b(c.resolve,c.reject)}catch(w){c.reject(w)}};b.prototype.createResolveAndReject_=function(){function b(b){return function(a){e||(e=!0,b.call(c,a))}}var c=this,e=
!1;return{resolve:b(this.resolveTo_),reject:b(this.reject_)}};b.prototype.resolveTo_=function(c){if(c===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(c instanceof b)this.settleSameAsPromise_(c);else{var e;a:switch(typeof c){case "object":e=null!=c;break a;case "function":e=!0;break a;default:e=!1}e?this.resolveToNonPromiseObj_(c):this.fulfill_(c)}};b.prototype.resolveToNonPromiseObj_=function(b){var c=void 0;try{c=b.then}catch(w){this.reject_(w);return}"function"==
typeof c?this.settleSameAsThenable_(c,b):this.fulfill_(b)};b.prototype.reject_=function(b){this.settle_(2,b)};b.prototype.fulfill_=function(b){this.settle_(1,b)};b.prototype.settle_=function(b,c){if(0!=this.state_)throw Error("Cannot settle("+b+", "+c|"): Promise already settled in state"+this.state_);this.state_=b;this.result_=c;this.executeOnSettledCallbacks_()};b.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var b=this.onSettledCallbacks_,c=0;c<b.length;++c)b[c].call(),
b[c]=null;this.onSettledCallbacks_=null}};var p=new e;b.prototype.settleSameAsPromise_=function(b){var c=this.createResolveAndReject_();b.callWhenSettled_(c.resolve,c.reject)};b.prototype.settleSameAsThenable_=function(b,c){var e=this.createResolveAndReject_();try{b.call(c,e.resolve,e.reject)}catch(k){e.reject(k)}};b.prototype.then=function(c,e){function g(d,b){return"function"==typeof d?function(f){try{k(d(f))}catch(l){a(l)}}:b}var k,a,d=new b(function(d,b){k=d;a=b});this.callWhenSettled_(g(c,k),
g(e,a));return d};b.prototype.catch=function(b){return this.then(void 0,b)};b.prototype.callWhenSettled_=function(b,c){function e(){switch(k.state_){case 1:b(k.result_);break;case 2:c(k.result_);break;default:throw Error("Unexpected state: "+k.state_);}}var k=this;null==this.onSettledCallbacks_?p.asyncExecute(e):this.onSettledCallbacks_.push(function(){p.asyncExecute(e)})};b.resolve=function(c){return c instanceof b?c:new b(function(b,e){b(c)})};b.reject=function(c){return new b(function(b,e){e(c)})};
b.race=function(c){return new b(function(e,g){for(var k=$jscomp.makeIterator(c),a=k.next();!a.done;a=k.next())b.resolve(a.value).callWhenSettled_(e,g)})};b.all=function(c){var e=$jscomp.makeIterator(c),g=e.next();return g.done?b.resolve([]):new b(function(c,a){function d(a){return function(d){f[a]=d;n--;0==n&&c(f)}}var f=[],n=0;do f.push(void 0),n++,b.resolve(g.value).callWhenSettled_(d(f.length-1),a),g=e.next();while(!g.done)})};$jscomp.EXPOSE_ASYNC_EXECUTOR&&(b.$jscomp$new$AsyncExecutor=function(){return new e});
return b},"es6-impl","es3");$jscomp.polyfill("Array.prototype.fill",function(c){return c?c:function(c,g,b){var e=this.length||0;0>g&&(g=Math.max(0,e+g));if(null==b||b>e)b=e;b=Number(b);0>b&&(b=Math.max(0,e+b));for(g=Number(g||0);g<b;g++)this[g]=c;return this}},"es6-impl","es3");
(function(c,e){"object"===typeof exports&&"undefined"!==typeof module?e(exports):"function"===typeof define&&define.amd?define(["exports"],e):e(c.edfdecoder={})})(this,function(c){var e=function(b,a){return a={exports:{}},b(a,a.exports),a.exports}(function(b){function a(a){this.value=a}function d(a,d,c){var b=[],q=[],n=!0;return function C(a){function m(){if("object"===typeof h.node&&null!==h.node){h.keys&&h.node_===h.node||(h.keys=e(h.node));h.isLeaf=0==h.keys.length;for(var d=0;d<q.length;d++)if(q[d].node_===
a){h.circular=q[d];break}}else h.isLeaf=!0,h.keys=null;h.notLeaf=!h.isLeaf;h.notRoot=!h.isRoot}var u,l,y,r,z=!0,h={node:c?f(a):a,node_:a,path:[].concat(b),parent:q[q.length-1],parents:q,key:b.slice(-1)[0],isRoot:0===b.length,level:b.length,circular:null,update:function(a,d){h.isRoot||(h.parent.node[h.key]=a);h.node=a;d&&(z=!1)},"delete":function(a){delete h.parent.node[h.key];a&&(z=!1)},remove:function(a){k(h.parent.node)?h.parent.node.splice(h.key,1):delete h.parent.node[h.key];a&&(z=!1)},keys:null,
before:function(a){u=a},after:function(a){l=a},pre:function(a){y=a},post:function(a){r=a},stop:function(){n=!1},block:function(){z=!1}};if(!n)return h;m();var B=d.call(h,h.node);void 0!==B&&h.update&&h.update(B);u&&u.call(h,h.node);if(!z)return h;"object"!=typeof h.node||null===h.node||h.circular||(q.push(h),m(),g(h.keys,function(a,d){b.push(a);y&&y.call(h,h.node[a],a);var f=C(h.node[a]);c&&v.call(h.node,a)&&(h.node[a]=f.node);f.isLast=d==h.keys.length-1;f.isFirst=0==d;r&&r.call(h,f);b.pop()}),q.pop());
l&&l.call(h,h.node);return h}(a).node}function f(a){if("object"===typeof a&&null!==a){var d;if(k(a))d=[];else if("[object Date]"===c(a))d=new Date(a.getTime?a.getTime():a);else if("[object RegExp]"===c(a))d=new RegExp(a);else if("[object Error]"===c(a))d={message:a.message};else if("[object Boolean]"===c(a))d=new Boolean(a);else if("[object Number]"===c(a))d=new Number(a);else if("[object String]"===c(a))d=new String(a);else if(Object.create&&Object.getPrototypeOf)d=Object.create(Object.getPrototypeOf(a));
else if(a.constructor===Object)d={};else{var f=function(){};f.prototype=a.constructor&&a.constructor.prototype||a.__proto__||{};d=new f}g(e(a),function(f){d[f]=a[f]});return d}return a}function c(a){return Object.prototype.toString.call(a)}var m=b.exports=function(d){return new a(d)};a.prototype.get=function(a){for(var d=this.value,f=0;f<a.length;f++){var b=a[f];if(!d||!v.call(d,b)){d=void 0;break}d=d[b]}return d};a.prototype.has=function(a){for(var d=this.value,f=0;f<a.length;f++){var b=a[f];if(!d||
!v.call(d,b))return!1;d=d[b]}return!0};a.prototype.set=function(a,d){for(var f=this.value,b=0;b<a.length-1;b++){var c=a[b];v.call(f,c)||(f[c]={});f=f[c]}return f[a[b]]=d};a.prototype.map=function(a){return d(this.value,a,!0)};a.prototype.forEach=function(a){return this.value=d(this.value,a,!1)};a.prototype.reduce=function(a,d){var f=1===arguments.length,b=f?this.value:d;this.forEach(function(d){this.isRoot&&f||(b=a.call(this,b,d))});return b};a.prototype.paths=function(){var a=[];this.forEach(function(d){a.push(this.path)});
return a};a.prototype.nodes=function(){var a=[];this.forEach(function(d){a.push(this.node)});return a};a.prototype.clone=function(){var a=[],d=[];return function r(b){for(var c=0;c<a.length;c++)if(a[c]===b)return d[c];if("object"===typeof b&&null!==b){var n=f(b);a.push(b);d.push(n);g(e(b),function(a){n[a]=r(b[a])});a.pop();d.pop();return n}return b}(this.value)};var e=Object.keys||function(a){var d=[],f;for(f in a)d.push(f);return d},k=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},
g=function(a,d){if(a.forEach)return a.forEach(d);for(var f=0;f<a.length;f++)d(a[f],f,a)};g(e(a.prototype),function(d){m[d]=function(f){var b=[].slice.call(arguments,1),c=new a(f);return c[d].apply(c,b)}});var v=Object.hasOwnProperty||function(a,d){return d in a}});(function(){function b(a){this.value=a}function a(a){function d(f,n){try{var e=a[f](n),m=e.value;m instanceof b?Promise.resolve(m.value).then(function(a){d("next",a)},function(a){d("throw",a)}):c(e.done?"return":"normal",e.value)}catch(u){c("throw",
u)}}function c(a,f){switch(a){case "return":m.resolve({value:f,done:!0});break;case "throw":m.reject(f);break;default:m.resolve({value:f,done:!1})}(m=m.next)?d(m.key,m.arg):e=null}var m,e;this._invoke=function(a,f){return new Promise(function(b,c){b={key:a,arg:f,resolve:b,reject:c,next:null};e?e=e.next=b:(m=e=b,d(a,f))})};"function"!==typeof a.return&&(this.return=void 0)}"function"===typeof Symbol&&Symbol.asyncIterator&&(a.prototype[Symbol.asyncIterator]=function(){return this});a.prototype.next=
function(a){return this._invoke("next",a)};a.prototype.throw=function(a){return this._invoke("throw",a)};a.prototype.return=function(a){return this._invoke("return",a)};return{wrap:function(d){return function(){return new a(d.apply(this,arguments))}},await:function(a){return new b(a)}}})();var g=function(){function b(a,d){for(var f=0;f<d.length;f++){var b=d[f];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(a,d,f){d&&b(a.prototype,
d);f&&b(a,f);return a}}(),b=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");}g(b,null,[{key:"isPlatformLittleEndian",value:function(){var a=new Uint32Array([305419896]);return 18!=(new Uint8Array(a.buffer,a.byteOffset,a.byteLength))[0]}},{key:"arrayBufferToUnicode",value:function(a){a=new Uint8Array(a);for(var d=[],f=0,b=0;f<a.length;){var c=a[f++];if(128>c)d[b++]=String.fromCharCode(c);else if(191<c&&224>c){var e=a[f++];d[b++]=String.fromCharCode((c&
31)<<6|e&63)}else if(239<c&&365>c){var e=a[f++],g=a[f++],k=a[f++],c=((c&7)<<18|(e&63)<<12|(g&63)<<6|k&63)-65536;d[b++]=String.fromCharCode(55296+(c>>10));d[b++]=String.fromCharCode(56320+(c&1023))}else e=a[f++],g=a[f++],d[b++]=String.fromCharCode((c&15)<<12|(e&63)<<6|g&63)}return d.join("")}},{key:"unicodeToArrayBuffer",value:function(a){for(var d=[],b=0,c=0;c<a.length;c++){var e=a.charCodeAt(c);128>e?d[b++]=e:(2048>e?d[b++]=e>>6|192:(55296==(e&64512)&&c+1<a.length&&56320==(a.charCodeAt(c+1)&64512)?
(e=65536+((e&1023)<<10)+(a.charCodeAt(++c)&1023),d[b++]=e>>18|240,d[b++]=e>>12&63|128):d[b++]=e>>12|224,d[b++]=e>>6&63|128),d[b++]=e&63|128)}return(new Uint8Array(d)).buffer}},{key:"arrayBufferToString8",value:function(a){return String.fromCharCode.apply(null,new Uint8Array(a))}},{key:"string8ToArrayBuffer",value:function(a){for(var d=new ArrayBuffer(a.length),b=new Uint8Array(d),c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return d}},{key:"setString8InBuffer",value:function(a,d){var b=2<arguments.length&&
void 0!==arguments[2]?arguments[2]:0;if(0>b)console.warn("The byte offset cannot be negative.");else if(d&&d instanceof ArrayBuffer)if(a.length+b>d.byteLength)console.warn("The string is too long to be writen in this buffer.");else for(var c=new Uint8Array(d),e=0;e<a.length;e++)c[e+b]=a.charCodeAt(e);else console.warn("The buffer must be a valid ArrayBuffer.")}},{key:"getString8FromBuffer",value:function(a,d){var b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return 0>b?(console.warn("The byte offset cannot be negative."),
null):a&&a instanceof ArrayBuffer?d+b>a.byteLength?(console.warn("The string is too long to be writen in this buffer."),null):String.fromCharCode.apply(null,new Uint8Array(a,b,d)):(console.warn("The buffer must be a valid ArrayBuffer."),null)}},{key:"objectToArrayBuffer",value:function(a){var d=null;a=b.makeSerializeFriendly(a);try{var c=JSON.stringify(a),d=b.unicodeToArrayBuffer(c)}catch(n){console.warn(n)}return d}},{key:"ArrayBufferToObject",value:function(a){var d=null;try{var c=b.arrayBufferToUnicode(a),
d=JSON.parse(c)}catch(n){console.warn(n)}return d}},{key:"isTypedArray",value:function(a){return a instanceof Int8Array||a instanceof Uint8Array||a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array}},{key:"mergeBuffers",value:function(a){for(var d=0,b=0;b<a.length;b++)d+=a[b].byteLength;for(var d=new Uint8Array(d),c=0,b=0;b<a.length;b++)d.set(new Uint8Array(a[b]),
c),c+=a[b].byteLength;return d.buffer}},{key:"getGlobalObject",value:function(){var a=null;try{a=window}catch(d){try{a=GLOBAL}catch(f){return console.warn("You are not in a Javascript environment?? Weird."),null}}return a}},{key:"extractTypedArray",value:function(a,d,b,c){if(!a)return console.warn("Input Buffer is null."),null;if(!(a instanceof ArrayBuffer))return console.warn("Buffer must be of type ArrayBuffer"),null;if(0>=c)return console.warn("The number of elements to fetch must be greater than 0"),
null;if(0>d)return console.warn("The byte offset must be possitive or 0"),null;if(d>=a.byteLength)return console.warn("The offset cannot be larger than the size of the buffer."),null;if(b instanceof Function&&!("BYTES_PER_ELEMENT"in b))return console.warn("ArrayType must be a typed array constructor function."),null;if(b.BYTES_PER_ELEMENT*c+d>a.byteLength)console.warn("The requested number of elements is too large for this buffer");else return a=a.slice(d,d+c*b.BYTES_PER_ELEMENT),new b(a)}},{key:"getTypedArrayInfo",
value:function(a){var d=null,b=!1;a instanceof Int8Array?(d="int",b=!1):a instanceof Uint8Array?(d="int",b=!0):a instanceof Uint8ClampedArray?(d="int",b=!0):a instanceof Int16Array?(d="int",b=!1):a instanceof Uint16Array?(d="int",b=!0):a instanceof Int32Array?(d="int",b=!1):a instanceof Uint32Array?(d="int",b=!0):a instanceof Float32Array?(d="float",b=!1):a instanceof Float64Array&&(d="float",b=!1);return{type:d,signed:b,bytesPerElements:a.BYTES_PER_ELEMENT,byteLength:a.byteLength,length:a.length}}},
{key:"howManyTypedArrayAttributes",value:function(a){var d=0;e(a).forEach(function(a){d+=b.isTypedArray(a)});return d}},{key:"hasCircularReference",value:function(a){var d=!1;e(a).forEach(function(a){this.circular&&(d=!0)});return d}},{key:"removeCircularReference",value:function(a){var d=!1;a=e(a).map(function(a){this.circular&&(this.remove(),d=!0)});return d?a:null}},{key:"replaceTypedArrayAttributesByArrays",value:function(a){var d=!1;a=e(a).map(function(a){if(b.isTypedArray(a)){for(var c=Object.keys(a).length,
f=Array(c),e=0;e<c;e++)f[e]=a[e];this.update(f);d=!0}});return d?a:null}},{key:"makeSerializeFriendly",value:function(a){var d=b.removeCircularReference(a);d&&(a=d);(d=b.replaceTypedArrayAttributesByArrays(a))&&(a=d);return a}}]);return b}();(function(){function b(a){this.value=a}function a(a){function d(f,e){try{var g=a[f](e),n=g.value;n instanceof b?Promise.resolve(n.value).then(function(a){d("next",a)},function(a){d("throw",a)}):c(g.done?"return":"normal",g.value)}catch(u){c("throw",u)}}function c(a,
b){switch(a){case "return":e.resolve({value:b,done:!0});break;case "throw":e.reject(b);break;default:e.resolve({value:b,done:!1})}(e=e.next)?d(e.key,e.arg):g=null}var e,g;this._invoke=function(a,b){return new Promise(function(c,f){c={key:a,arg:b,resolve:c,reject:f,next:null};g?g=g.next=c:(e=g=c,d(a,b))})};"function"!==typeof a.return&&(this.return=void 0)}"function"===typeof Symbol&&Symbol.asyncIterator&&(a.prototype[Symbol.asyncIterator]=function(){return this});a.prototype.next=function(a){return this._invoke("next",
a)};a.prototype.throw=function(a){return this._invoke("throw",a)};a.prototype.return=function(a){return this._invoke("return",a)};return{wrap:function(b){return function(){return new a(b.apply(this,arguments))}},await:function(a){return new b(a)}}})();var p=function(b,a){if(!(b instanceof a))throw new TypeError("Cannot call a class as a function");},x=function(){function b(a,b){for(var d=0;d<b.length;d++){var c=b[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,
c.key,c)}}return function(a,d,c){d&&b(a.prototype,d);c&&b(a,c);return a}}(),A=function(){function b(a,d,c){p(this,b);this._header=a;this._physicalSignals=c;this._rawSignals=d}x(b,[{key:"getRecordDuration",value:function(){return this._header.durationDataRecordsSec}},{key:"getRecordingID",value:function(){return this._header.localRecordingId}},{key:"getNumberOfRecords",value:function(){return this._header.nbDataRecords}},{key:"getNumberOfSignals",value:function(){return this._header.nbSignals}},{key:"getPatientID",
value:function(){return this._header.patientId}},{key:"getRecordingStartDate",value:function(){return this._header.recordingDate}},{key:"getReservedField",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:-1;return-1===a?this._header.reserved:0<=a&&a<this._header.signalInfo.length?this._header.signalInfo[a].reserved:null}},{key:"getSignalDigitalMax",value:function(a){return 0>a||a>=this._header.signalInfo.length?(console.warn("Signal index is out of range"),null):this._header.signalInfo[a].digitalMaximum}},
{key:"getSignalDigitalMin",value:function(a){return 0>a||a>=this._header.signalInfo.length?(console.warn("Signal index is out of range"),null):this._header.signalInfo[a].digitalMinimum}},{key:"getSignalPhysicalMin",value:function(a){return 0>a||a>=this._header.signalInfo.length?(console.warn("Signal index is out of range"),null):this._header.signalInfo[a].physicalMinimum}},{key:"getSignalPhysicalMax",value:function(a){return 0>a||a>=this._header.signalInfo.length?(console.warn("Signal index is out of range"),
null):this._header.signalInfo[a].physicalMaximum}},{key:"getSignalLabel",value:function(a){return 0>a||a>=this._header.signalInfo.length?(console.warn("Signal index is out of range"),null):this._header.signalInfo[a].label}},{key:"getSignalNumberOfSamplesPerRecord",value:function(a){return 0>a||a>=this._header.signalInfo.length?(console.warn("Signal index is out of range"),null):this._header.signalInfo[a].nbOfSamples}},{key:"getSignalPhysicalUnit",value:function(a){return 0>a||a>=this._header.signalInfo.length?
(console.warn("Signal index is out of range"),null):this._header.signalInfo[a].physicalDimension}},{key:"getSignalPrefiltering",value:function(a){return 0>a||a>=this._header.signalInfo.length?(console.warn("Signal index is out of range"),null):this._header.signalInfo[a].prefiltering}},{key:"getSignalTransducerType",value:function(a){return 0>a||a>=this._header.signalInfo.length?(console.warn("Signal index is out of range"),null):this._header.signalInfo[a].transducerType}},{key:"getSignalSamplingFrequency",
value:function(a){return 0>a||a>=this._header.signalInfo.length?(console.warn("Signal index is out of range"),null):this._header.signalInfo[a].nbOfSamples/this._header.durationDataRecordsSec}},{key:"getPhysicalSignal",value:function(a,b){return 0>a||a>=this._header.signalInfo.length?(console.warn("Signal index is out of range"),null):0>b&&b>=this._physicalSignals[a].length?(console.warn("Record index is out of range"),null):this._physicalSignals[a][b]}},{key:"getRawSignal",value:function(a,b){return 0>
a||a>=this._header.signalInfo.length?(console.warn("Signal index is out of range"),null):0>b&&b>=this._rawSignals[a].length?(console.warn("Record index is out of range"),null):this._rawSignals[a][b]}},{key:"getPhysicalSignalConcatRecords",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-1;if(0>a||a>=this._header.signalInfo.length)return console.warn("Signal index is out of range"),null;if(0>b&&b>=this._physicalSignals[a].length)return console.warn("The index recordStart is out of range"),
null;-1===b&&(b=0);-1===c?c=this._physicalSignals[a].length-b:b+c>this._physicalSignals[a].length&&(console.warn("The number of requested records is too large. Forcing only to available records."),c=this._physicalSignals[a].length-b);var e=b+c-1;if(0>e&&e>=this._physicalSignals[a].length)return console.warn("Too many records to concatenate, this goes out of range."),null;for(var g=0,e=b;e<b+c;e++)g+=this._physicalSignals[a][e].length;for(var g=new Float32Array(g),l=0,e=b;e<b+c;e++)g.set(this._physicalSignals[a][e],
l),l+=this._physicalSignals[a][e].length;return g}}]);return b}(),w=function(){function c(){p(this,c);this._output=this._inputBuffer=null}x(c,[{key:"setInput",value:function(a){this._output=null;this._inputBuffer=a}},{key:"decode",value:function(){try{var a=this._decodeHeader();this._decodeData(a.offset,a.header)}catch(d){console.warn(d)}}},{key:"_decodeHeader",value:function(){function a(a){for(var d=[],f=0;f<c.nbSignals;f++)d.push(b.getString8FromBuffer(l._inputBuffer,a,e).trim()),e+=a;return d}
if(this._inputBuffer){var c={},e=0;c.dataFormat=b.getString8FromBuffer(this._inputBuffer,8,e).trim();e+=8;c.patientId=b.getString8FromBuffer(this._inputBuffer,80,e).trim();e+=80;c.localRecordingId=b.getString8FromBuffer(this._inputBuffer,80,e).trim();var e=e+80,g=b.getString8FromBuffer(this._inputBuffer,8,e).trim(),e=e+8,m=b.getString8FromBuffer(this._inputBuffer,8,e).trim(),e=e+8,g=g.split("."),m=m.split(".");c.recordingDate=new Date(g[2],g[1],g[0],m[0],m[1],m[2],0);c.nbBytesHeaderRecord=parseInt(b.getString8FromBuffer(this._inputBuffer,
8,e).trim());e+=8;c.reserved=b.getString8FromBuffer(this._inputBuffer,44,e);e+=44;c.nbDataRecords=parseInt(b.getString8FromBuffer(this._inputBuffer,8,e).trim());e+=8;c.durationDataRecordsSec=parseInt(b.getString8FromBuffer(this._inputBuffer,8,e).trim());e+=8;c.nbSignals=parseInt(b.getString8FromBuffer(this._inputBuffer,4,e).trim());var e=e+4,l=this,m=a(16),g=a(80),k=a(8),p=a(8),v=a(8),q=a(8),u=a(8),y=a(80),r=a(8),w=a(32),x=[];c.signalInfo=x;for(var t=0;t<c.nbSignals;t++)x.push({label:m[t],transducerType:g[t],
physicalDimension:k[t],physicalMinimum:parseFloat(p[t]),physicalMaximum:parseFloat(v[t]),digitalMinimum:parseInt(q[t]),digitalMaximum:parseInt(u[t]),prefiltering:y[t],nbOfSamples:parseInt(r[t]),reserved:w[t]});return{offset:e,header:c}}console.warn("A input buffer must be specified.")}},{key:"_decodeData",value:function(a,c){if(this._inputBuffer)if(c){for(var d=Int16Array,e=Array(c.nbSignals),g=Array(c.nbSignals),l=0;l<c.nbSignals;l++)e[l]=Array(c.nbDataRecords),g[l]=Array(c.nbDataRecords);for(var k=
0;k<c.nbDataRecords;k++)for(l=0;l<c.nbSignals;l++){var p=c.signalInfo[l].nbOfSamples,v=b.extractTypedArray(this._inputBuffer,a,d,p);a+=p*d.BYTES_PER_ELEMENT;e[l][k]=v;for(var q=(new Float32Array(v.length)).fill(0),u=c.signalInfo[l].digitalMaximum-c.signalInfo[l].digitalMinimum,w=c.signalInfo[l].physicalMaximum-c.signalInfo[l].physicalMinimum,r=0;r<p;r++)q[r]=(v[r]-c.signalInfo[l].digitalMinimum)/u*w+c.signalInfo[l].physicalMinimum;g[l][k]=q}this._output=new A(c,e,g)}else console.warn("Invalid header");
else console.warn("A input buffer must be specified.")}},{key:"getOutput",value:function(){return this._output}}]);return c}();c.EdfDecoder=w;c.Edf=A;Object.defineProperty(c,"__esModule",{value:!0})});
